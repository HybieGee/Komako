---
import BaseLayout from '@layouts/BaseLayout.astro';
import PostCard from '@components/PostCard.astro';
import { getJournalPosts } from '@lib/content';
import { useTranslations } from '@lib/i18n';

const lang = 'ja';
const t = useTranslations(lang);
const posts = await getJournalPosts(lang);
---

<BaseLayout
  title={`${t('journal.title')} - コマコギャラリー`}
  description={t('journal.subtitle')}
  lang={lang}
>
  <div class="container py-8">
    <header class="mb-8">
      <h1 class="text-3xl font-bold">{t('journal.title')}</h1>
      <p class="mt-2 text-komako-soft">
        {t('journal.subtitle')}
      </p>
    </header>
    
    <div class="space-y-6">
      {posts.map((post) => (
        <PostCard {...post} />
      ))}
    </div>
    
    {posts.length === 0 && (
      <p class="text-komako-soft">
        まだジャーナルエントリーがありません。もうしばらくお待ちください！
      </p>
    )}
  </div>
</BaseLayout>